<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>html5爱心动画</title>
    <link href="css/default.css" type="text/css" rel="stylesheet">
    <style type="text/css">
        .fork{
            position:fixed;
            top:0;
            right:0;
            z-index:1;
        }
    </style>
</head>
<body>
<a class="fork" href="https://github.com/xlweb/love" target="_blank">
    <img src="images/forkme.png" width="149" height="149" />
</a>
<div id="mainDiv">
    <div id="content">
        <div id="code">
        </div>
        <div id="loveHeart">
            <canvas id="garden"></canvas>
            <div id="words">
                <div id="messages">
                    勿忘初心，方得始终！
                    <div id="elapseClock"></div>
                </div>
                <div id="loveu">
                    <p>一起加油！</p>
                    <p>-我们-</p>
                </div>
            </div>
        </div>
    </div>
</div>
<div style="text-align:center;clear:both">
<p>适用浏览器：360、FireFox、Chrome、Safari、Opera、傲游、搜狗、世界之窗. 不支持IE8及以下浏览器。</p>
</div>
<canvas id="canvas">Your browser doesn't support HTML5!<br/>Recommend use Chrome 14+/IE 9+/Firefox 7+/Safari 4+</canvas>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/garden.js"></script>
<script type="text/javascript" src="js/functions.js"></script>
<script type="text/javascript">
    var offsetX = $("#loveHeart").width() / 2;
    var offsetY = $("#loveHeart").height() / 2 - 55;
    var together = new Date();
    together.setFullYear(2016, 8, 21);
    together.setHours(20);
    together.setMinutes(0);
    together.setSeconds(0);
    together.setMilliseconds(0);
    // $("#code").css("display", "none")
    $("#copyright").css("position", "absolute");
    $("#copyright").css("bottom", "10px");
    document.execCommand("stop");
    setTimeout(function () {
        startHeartAnimation();
    }, 5000);
    timeElapse(together);
    setInterval(function () {
        timeElapse(together);
    }, 500);

    adjustCodePosition();
    var str = "2016—09-21 简单的爱 不需要海枯石烂的山盟海誓，只需一生一世的默默相守；不需要多么奢华的烛光晚餐，只需两个人，一桌粗茶淡饭；不需要有座别墅，面朝大海，春暖花开，只需一套小小房子，落地窗，一米阳光；不需要鲜艳，美丽的玫瑰花，只需给我一个宽厚的肩膀；这就是爱，平淡却幸福着；这就是爱，简单并快乐着 ... ";
    var arr = str.split("");
    var i = 0,html = "";
    var timer = setInterval(function(){
        html += "<span style ='color:"+getColor()+";'>"+arr[i]+"</span>";
        if(arr[i]==" "||arr[i]=="，"||arr[i]=="；"){
            html +="<br />";
        }
        i++;
        if(i==arr.length){
            clearInterval(timer);
        }
        $("#code").html(html);
    },200);
    // 随机颜色
    function getColor(){
        var r = Math.floor(Math.random()*256);
        var g = Math.floor(Math.random()*256);
        var b = Math.floor(Math.random()*256);
        return "rgb("+r+","+g+","+b+")";
    }
</script>
</body>
</html>